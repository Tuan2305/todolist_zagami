


<div class="student-list-container">
  <h2>Quản lý Sinh viên</h2>

  <div class="controls-section">
    <button (click)="onAdd()" class="btn-add">Thêm Sinh viên Mới</button>

    <div class="search-sort-group">
      <!-- Tìm kiếm -->
      <select [(ngModel)]="searchType" (change)="onSearch()" class="search-select">
        <option value="all">Tìm kiếm Tất cả</option>
        <option value="maSv">Tìm theo Mã SV</option>
        <option value="hoTen">Tìm theo Họ tên</option>
        <option value="lop">Tìm theo Lớp</option>
        <option value="chuyenNganh">Tìm theo Chuyên ngành</option>
      </select>
      <input
        type="text"
        [(ngModel)]="searchQuery"
        (input)="onSearch()"
        placeholder="Nhập từ khóa tìm kiếm..."
        class="search-input"
      />

      <!-- Sắp xếp -->
      <select [(ngModel)]="sortBy" (change)="onSort()" class="sort-select">
        <option value="hoTen">Sắp xếp theo Họ tên</option>
        <option value="maSv">Sắp xếp theo Mã SV</option>
        <option value="ngaySinh">Sắp xếp theo Ngày sinh</option>
        <option value="lop">Sắp xếp theo Lớp</option>
        <option value="chuyenNganh">Sắp xếp theo Chuyên ngành</option>
      </select>

      <select [(ngModel)]="sortOrder" (change)="onSort()" class="sort-select">
        <option value="asc">Tăng dần</option>
        <option value="desc">Giảm dần</option>
      </select>
    </div>
  </div>

  <table class="student-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Mã SV</th>
        <th>Họ tên</th>
        <th>Giới tính</th>
        <th>Ngày sinh</th>
        <th>Lớp</th>
        <th>Chuyên ngành</th>
        <th>Thao tác</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let student of students">
        <td>{{ student.id }}</td>
        <td>{{ student.maSv }}</td>
        <td>{{ student.hoTen }}</td>
        <td>{{ student.gioiTinh }}</td>
        <td>{{ student.ngaySinh | date: 'dd/MM/yyyy' }}</td>
        <td>{{ student.lop }}</td>
        <td>{{ student.chuyenNganh }}</td>
        <td>
          <button (click)="onEdit(student)" class="btn-edit">Sửa</button>
          <button (click)="deleteStudent(student.id)" class="btn-delete">Xóa</button>
        </td>
      </tr>
      <tr *ngIf="students.length === 0">
        <td colspan="8" class="no-data">Không có sinh viên nào.</td>
      </tr>
    </tbody>
  </table>

  <!-- Phân trang -->
  <div class="pagination-controls" *ngIf="totalPages > 1">
    <button (click)="onPageChange(currentPage - 1)" [disabled]="currentPage === 1" class="btn-page">Trước</button>
    <span>Trang {{ currentPage }} / {{ totalPages }}</span>
    <button (click)="onPageChange(currentPage + 1)" [disabled]="currentPage === totalPages" class="btn-page">Sau</button>

    <select [(ngModel)]="pageSize" (change)="onPageSizeChange()" class="page-size-select">
      <option [ngValue]="5">5 sinh viên/trang</option>
      <option [ngValue]="10">10 sinh viên/trang</option>
      <option [ngValue]="20">20 sinh viên/trang</option>
    </select>
  </div>
</div>